<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python: Basic to Advanced Code Roadmap</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
        }
        .container {
            max-width: 1200px;
            margin: auto;
            background: #ffffff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            font-size: 3.2em;
            letter-spacing: 1px;
            border-bottom: 4px solid #3498db;
            padding-bottom: 20px;
        }
        h2 {
            color: #34495e;
            margin-top: 0;
            font-size: 2.4em;
            flex-grow: 1;
        }
        h3 {
            color: #2980b9;
            margin-top: 35px;
            font-size: 1.9em;
        }
        h4 {
            color: #1e6d9b;
            margin-top: 25px;
            font-size: 1.5em;
        }
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        ul {
            list-style-type: disc;
            margin-left: 35px;
            margin-bottom: 15px;
        }
        ol {
            list-style-type: decimal;
            margin-left: 35px;
            margin-bottom: 15px;
        }
        code {
            font-family: 'Fira Code', 'Cascadia Code', 'Consolas', monospace;
            background-color: transparent;
            padding: 2px 5px;
            border-radius: 4px;
            color: #ab3e3e;
        }
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Fira Code', 'Cascadia Code', 'Consolas', monospace;
            font-size: 0.9em;
            line-height: 1.5;
            box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
            margin-top: 20px;
            margin-bottom: 20px;
        }
        strong {
            color: #e74c3c;
        }
        .concept-section {
            background-color: #f8fafa;
            border: 1px solid #e0e6ed;
            border-radius: 8px;
            padding: 30px 35px;
            margin-bottom: 40px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
        }
        .concept-section h2 {
            margin-top: 0;
            color: #2c3e50;
        }
        .code-block {
            margin-top: 15px;
            margin-bottom: 15px;
        }
        .note {
            background-color: #fff3cd;
            border-left: 6px solid #ffc107;
            padding: 15px 25px;
            margin-top: 30px;
            border-radius: 8px;
            color: #6a4f00;
        }
        .warning {
            background-color: #f8d7da;
            border-left: 6px solid #dc3545;
            padding: 15px 25px;
            margin-top: 30px;
            border-radius: 8px;
            color: #721c24;
        }

        /* --- Collapsible Specific Styles --- */
        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            padding-bottom: 12px;
            border-bottom: 2px solid #ecf0f1;
            margin-bottom: 20px;
        }
        .toggle-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
            min-width: 90px;
            text-align: center;
        }
        .toggle-button:hover {
            background-color: #2980b9;
        }
        .toggle-button.collapsed {
            background-color: #95a5a6;
        }
        .collapsible-content {
            display: none;
            padding-top: 10px;
        }
        .collapsible-content.expanded {
            display: block;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            color: #333;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1 style="text-align: center; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">PYTHON</h1>

        <p>Python is a versatile and powerful programming language, widely used in web development, data science, machine learning, automation, and more. This guide provides a comprehensive roadmap, starting from fundamental concepts and progressing to advanced topics, complete with code examples for each step. Whether you're a beginner or looking to deepen your Python knowledge, this roadmap will serve as a structured learning path.</p>

        <div class="concept-section">
            <div class="collapsible-header">
                <h2>1. Python Fundamentals (The Basics)</h2>
                <button class="toggle-button" data-target="fundamentals-content">Expand</button>
            </div>
            <div id="fundamentals-content" class="collapsible-content">
                <h3>1.1. Setting Up Your Environment</h3>
                <ul>
                    <li>Install Python (Python 3.x recommended).</li>
                    <li>Use a good IDE (e.g., VS Code, PyCharm) or text editor.</li>
                    <li>Understand the Python interpreter.</li>
                </ul>
                <pre><code class="language-bash">
# Check Python version
python3 --version

# Open Python interpreter
python3

# Exit interpreter
exit()
                </code></pre>

                <h3>1.2. Basic Syntax & Data Types</h3>
                <ul>
                    <li><strong>Variables:</strong> Declaring and assigning values.</li>
                    <li><strong>Numbers:</strong> Integers, floats, complex numbers.</li>
                    <li><strong>Strings:</strong> Text data, single/double/triple quotes, string methods.</li>
                    <li><strong>Booleans:</strong> <code>True</code> and <code>False</code>.</li>
                    <li><strong>Comments:</strong> Single-line (<code>#</code>) and multi-line (<code>"""Docstrings"""</code>).</li>
                </ul>
                <pre><code class="language-python">
# Variables
name = "Alice"
age = 30
height = 1.75
is_student = True

# Data Types
print(f"Name: {name}, Type: {type(name)}")
print(f"Age: {age}, Type: {type(age)}")
print(f"Height: {height}, Type: {type(height)}")
print(f"Is Student: {is_student}, Type: {type(is_student)}")

# String operations
greeting = "Hello"
message = greeting + ", " + name + "!"
print(message)
print(f"Length of message: {len(message)}")
print(f"Uppercase: {message.upper()}")
print(f"Starts with 'Hello': {message.startswith('Hello')}")

# Multi-line string (docstring example)
long_text = """
This is a multi-line string.
It can span across several lines.
"""
print(long_text)
                </code></pre>

                <h3>1.3. Operators</h3>
                <ul>
                    <li><strong>Arithmetic:</strong> <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code> (modulo), <code>//</code> (floor division), <code>**</code> (exponentiation).</li>
                    <li><strong>Comparison:</strong> <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>.</li>
                    <li><strong>Logical:</strong> <code>and</code>, <code>or</code>, <code>not</code>.</li>
                    <li><strong>Assignment:</strong> <code>=</code>, <code>+=</code>, <code>-=</code>, etc.</li>
                    <li><strong>Identity:</strong> <code>is</code>, <code>is not</code> (for object identity).</li>
                    <li><strong>Membership:</strong> <code>in</code>, <code>not in</code> (for checking presence in sequences).</li>
                </ul>
                <pre><code class="language-python">
# Arithmetic
a = 10
b = 3
print(f"a + b = {a + b}")
print(f"a / b = {a / b}")
print(f"a // b = {a // b}") # Floor division
print(f"a ** b = {a ** b}") # Exponentiation

# Comparison
print(f"a == b: {a == b}")
print(f"a > b: {a > b}")

# Logical
x = True
y = False
print(f"x and y: {x and y}")
print(f"x or y: {x or y}")
print(f"not x: {not x}")

# Assignment
count = 0
count += 5 # count = count + 5
print(f"Count: {count}")

# Identity
list1 = [1, 2, 3]
list2 = [1, 2, 3]
list3 = list1
print(f"list1 is list2: {list1 is list2}") # False (different objects, same content)
print(f"list1 is list3: {list1 is list3}") # True (same object)

# Membership
my_list = [10, 20, 30]
print(f"10 in my_list: {10 in my_list}")
print(f"50 not in my_list: {50 not in my_list}")
                </code></pre>

                <h3>1.4. Control Flow</h3>
                <ul>
                    <li><strong><code>if</code>, <code>elif</code>, <code>else</code>:</strong> Conditional execution.</li>
                    <li><strong><code>for</code> loop:</strong> Iterating over sequences.</li>
                    <li><strong><code>while</code> loop:</strong> Repeating as long as a condition is true.</li>
                    <li><strong><code>break</code>, <code>continue</code>:</strong> Modifying loop behavior.</li>
                </ul>
                <pre><code class="language-python">
# if/elif/else
score = 85
if score >= 90:
    print("Grade A")
elif score >= 80:
    print("Grade B")
else:
    print("Grade C")

# for loop
fruits = ["apple", "banana", "cherry"]
for fruit in fruits:
    print(f"I like {fruit}")

# for loop with range()
for i in range(3): # 0, 1, 2
    print(f"Iteration {i}")

# while loop
count = 0
while count < 5:
    print(f"Count is {count}")
    count += 1

# break and continue
for i in range(10):
    if i == 3:
        continue # Skip current iteration if i is 3
    if i == 7:
        break # Exit loop if i is 7
    print(i)
                </code></pre>

                <h3>1.5. Functions</h3>
                <ul>
                    <li>Defining functions with <code>def</code>.</li>
                    <li>Parameters and arguments.</li>
                    <li>Return values.</li>
                    <li>Default arguments, keyword arguments, arbitrary arguments (<code>*args</code>, <code>**kwargs</code>).</li>
                </ul>
                <pre><code class="language-python">
# Simple function
def greet(name):
    return f"Hello, {name}!"

print(greet("World"))

# Function with default argument
def power(base, exp=2):
    return base ** exp

print(f"2 squared: {power(2)}")
print(f"2 cubed: {power(2, 3)}")

# Function with arbitrary arguments (*args, **kwargs)
def print_details(name, *args, **kwargs):
    print(f"Name: {name}")
    print(f"Positional args: {args}")
    print(f"Keyword args: {kwargs}")

print_details("Alice", 30, "Engineer", city="New York", hobby="Reading")
                </code></pre>

                <h3>1.6. Basic I/O</h3>
                <ul>
                    <li><code>print()</code> for output.</li>
                    <li><code>input()</code> for user input.</li>
                </ul>
                <pre><code class="language-python">
# Output
print("This is a message.")
print("Multiple", "arguments", "separated", "by space")

# User input
# user_name = input("Enter your name: ")
# print(f"Hello, {user_name}!")
                </code></pre>
            </div>
        </div>

        <div class="concept-section">
            <div class="collapsible-header">
                <h2>2. Core Data Structures</h2>
                <button class="toggle-button" data-target="data-structures-content">Expand</button>
            </div>
            <div id="data-structures-content" class="collapsible-content">
                <h3>2.1. Lists</h3>
                <ul>
                    <li>Ordered, mutable collections.</li>
                    <li>Indexing, slicing, adding, removing elements.</li>
                    <li>List methods (<code>append()</code>, <code>insert()</code>, <code>remove()</code>, <code>pop()</code>, <code>sort()</code>, etc.).</li>
                </ul>
                <pre><code class="language-python">
my_list = [1, 2, 3, "four", 5.0]
print(f"Original list: {my_list}")

# Accessing elements
print(f"First element: {my_list[0]}")
print(f"Last element: {my_list[-1]}")

# Slicing
print(f"Slice [1:4]: {my_list[1:4]}")

# Modifying
my_list.append("six")
my_list.insert(1, "zero")
my_list[3] = "THREE"
print(f"Modified list: {my_list}")

# Removing
my_list.remove("four")
popped_item = my_list.pop() # Removes last item
print(f"After remove and pop: {my_list}, Popped: {popped_item}")

# Sorting (in-place)
numbers = [5, 2, 8, 1, 9]
numbers.sort()
print(f"Sorted numbers: {numbers}")
                </code></pre>

                <h3>2.2. Tuples</h3>
                <ul>
                    <li>Ordered, immutable collections.</li>
                    <li>Defined using parentheses <code>()</code>.</li>
                    <li>Useful for fixed collections of items, or as dictionary keys.</li>
                </ul>
                <pre><code class="language-python">
my_tuple = (1, "two", 3.0)
print(f"Original tuple: {my_tuple}")

# Accessing elements (like lists)
print(f"First element: {my_tuple[0]}")

# Tuples are immutable - this would cause an error:
# my_tuple[0] = 10 

# Unpacking tuples
a, b, c = my_tuple
print(f"Unpacked: a={a}, b={b}, c={c}")
                </code></pre>

                <h3>2.3. Dictionaries</h3>
                <ul>
                    <li>Unordered (in Python &lt; 3.7), mutable collections of key-value pairs.</li>
                    <li>Keys must be unique and immutable (strings, numbers, tuples).</li>
                    <li>Accessing, adding, updating, deleting.</li>
                    <li>Dictionary methods (<code>keys()</code>, <code>values()</code>, <code>items()</code>).</li>
                </ul>
                <pre><code class="language-python">
my_dict = {"name": "Alice", "age": 30, "city": "New York"}
print(f"Original dictionary: {my_dict}")

# Accessing values
print(f"Name: {my_dict['name']}")
print(f"Age (using .get()): {my_dict.get('age', 'N/A')}")

# Adding/Updating
my_dict["country"] = "USA"
my_dict["age"] = 31
print(f"Updated dictionary: {my_dict}")

# Deleting
del my_dict["city"]
print(f"After deleting city: {my_dict}")

# Iterating
print("Keys:")
for key in my_dict.keys():
    print(key)

print("Values:")
for value in my_dict.values():
    print(value)

print("Items:")
for key, value in my_dict.items():
    print(f"{key}: {value}")
                </code></pre>

                <h3>2.4. Sets</h3>
                <ul>
                    <li>Unordered collections of unique elements.</li>
                    <li>Useful for membership testing and eliminating duplicates.</li>
                    <li>Set operations (union, intersection, difference).</li>
                </ul>
                <pre><code class="language-python">
my_set = {1, 2, 3, 2, 4} # Duplicates are automatically removed
print(f"Original set: {my_set}")

# Adding elements
my_set.add(5)
print(f"After adding 5: {my_set}")

# Removing elements
my_set.remove(1)
print(f"After removing 1: {my_set}")

# Set operations
set_a = {1, 2, 3, 4}
set_b = {3, 4, 5, 6}

print(f"Union (A | B): {set_a | set_b}")
print(f"Intersection (A & B): {set_a & set_b}")
print(f"Difference (A - B): {set_a - set_b}")
                </code></pre>

                <h3>2.5. Strings (Advanced)</h3>
                <ul>
                    <li>String formatting (f-strings, <code>.format()</code>).</li>
                    <li>String methods (<code>split()</code>, <code>join()</code>, <code>strip()</code>, <code>replace()</code>, <code>find()</code>, <code>count()</code>).</li>
                </ul>
                <pre><code class="language-python">
name = "Bob"
age = 25
# F-strings (Python 3.6+) - highly recommended
print(f"My name is {name} and I am {age} years old.")

# .format() method
print("My name is {} and I am {} years old.".format(name, age))

# String methods
sentence = "  Hello World! Python is fun.  "
words = sentence.strip().split(" ") # strip whitespace, then split by space
print(f"Words: {words}")

new_sentence = "-".join(words)
print(f"Joined: {new_sentence}")

replaced_text = sentence.replace("fun", "awesome")
print(f"Replaced: {replaced_text}")

print(f"Index of 'World': {sentence.find('World')}")
print(f"Count of 'o': {sentence.count('o')}")
                </code></pre>
            </div>
        </div>

        <div class="concept-section">
            <div class="collapsible-header">
                <h2>3. Intermediate Python</h2>
                <button class="toggle-button" data-target="intermediate-content">Expand</button>
            </div>
            <div id="intermediate-content" class="collapsible-content">
                <h3>3.1. Object-Oriented Programming (OOP)</h3>
                <ul>
                    <li><strong>Classes and Objects:</strong> Blueprints and instances.</li>
                    <li><strong><code>__init__</code> method:</strong> Constructor.</li>
                    <li><strong>Attributes:</strong> Data associated with objects.</li>
                    <li><strong>Methods:</strong> Functions associated with objects.</li>
                    <li><strong>Inheritance:</strong> Creating new classes from existing ones.</li>
                    <li><strong>Polymorphism:</strong> Objects of different classes responding to the same method call differently.</li>
                    <li><strong>Encapsulation:</strong> Bundling data and methods that operate on the data within a single unit (class).</li>
                </ul>
                <pre><code class="language-python">
# Class Definition
class Dog:
    # Class attribute
    species = "Canis familiaris"

    def __init__(self, name, age):
        # Instance attributes
        self.name = name
        self.age = age

    # Instance method
    def bark(self):
        return f"{self.name} says Woof!"

    def get_age_in_dog_years(self):
        return self.age * 7

# Creating objects (instances)
dog1 = Dog("Buddy", 3)
dog2 = Dog("Lucy", 5)

print(f"{dog1.name} is {dog1.age} years old ({dog1.get_age_in_dog_years()} dog years).")
print(dog1.bark())
print(f"{dog2.name} is a {Dog.species}.")

# Inheritance
class GoldenRetriever(Dog):
    def __init__(self, name, age, color):
        super().__init__(name, age) # Call parent constructor
        self.color = color

    # Override parent method
    def bark(self):
        return f"{self.name} says a gentle Woof!"

    def retrieve(self, item):
        return f"{self.name} retrieved the {item}!"

golden = GoldenRetriever("Goldie", 2, "golden")
print(f"{golden.name} is {golden.color} and {golden.bark()}")
print(golden.retrieve("ball"))
                </code></pre>

                <h3>3.2. Error Handling (Exceptions)</h3>
                <ul>
                    <li><code>try</code>, <code>except</code>, <code>else</code>, <code>finally</code> blocks.</li>
                    <li>Handling specific exceptions.</li>
                    <li>Raising exceptions with <code>raise</code>.</li>
                </ul>
                <pre><code class="language-python">
def divide(a, b):
    try:
        result = a / b
    except ZeroDivisionError:
        print("Error: Cannot divide by zero!")
        return None
    except TypeError:
        print("Error: Invalid types for division.")
        return None
    else:
        print("Division successful!")
        return result
    finally:
        print("Division attempt finished.")

print(divide(10, 2))
print(divide(10, 0))
print(divide(10, "a"))

# Raising custom exceptions
def validate_age(age):
    if not isinstance(age, (int, float)):
        raise TypeError("Age must be a number.")
    if age < 0:
        raise ValueError("Age cannot be negative.")
    print(f"Age {age} is valid.")

try:
    validate_age(-5)
except ValueError as e:
    print(f"Validation Error: {e}")
except TypeError as e:
    print(f"Type Error: {e}")
                </code></pre>

                <h3>3.3. Modules & Packages</h3>
                <ul>
                    <li>Organizing code into modules (<code>.py</code> files).</li>
                    <li>Importing modules (<code>import</code>, <code>from ... import ...</code>).</li>
                    <li>Creating packages (directories with <code>__init__.py</code>).</li>
                </ul>
                <pre><code class="language-python">
# Assuming you have a file named 'math_operations.py'
# math_operations.py content:
# def add(a, b): return a + b
# def subtract(a, b): return a - b

# From another file (e.g., main.py)
import math_operations
from math_operations import add as my_add_func # Alias import

print(f"Sum: {math_operations.add(5, 3)}")
print(f"Difference: {math_operations.subtract(5, 3)}")
print(f"Using alias: {my_add_func(10, 2)}")

# Example of a package structure:
# my_package/
# ├── __init__.py
# ├── utilities.py
# └── data/
#     └── __init__.py
#     └── processing.py

# To import 'processing.py' from 'my_package':
# from my_package.data import processing
                </code></pre>

                <h3>3.4. File I/O</h3>
                <ul>
                    <li>Reading from files (<code>.read()</code>, <code>.readline()</code>, <code>.readlines()</code>).</li>
                    <li>Writing to files (<code>.write()</code>, <code>.writelines()</code>).</li>
                    <li>Using <code>with open(...) as f:</code> for automatic file closing.</li>
                </ul>
                <pre><code class="language-python">
# Writing to a file
with open("my_file.txt", "w") as f: # 'w' for write (creates/overwrites)
    f.write("Hello, file world!\n")
    f.write("This is the second line.\n")
print("Content written to my_file.txt")

# Reading from a file
with open("my_file.txt", "r") as f: # 'r' for read
    content = f.read()
    print("\nContent of my_file.txt:")
    print(content)

# Appending to a file
with open("my_file.txt", "a") as f: # 'a' for append
    f.write("This line was appended.\n")
print("Content appended to my_file.txt")

# Reading line by line
with open("my_file.txt", "r") as f:
    print("\nReading line by line:")
    for line in f:
        print(line.strip()) # .strip() removes newline characters
                </code></pre>

                <h3>3.5. List/Dict/Set Comprehensions</h3>
                <ul>
                    <li>Concise ways to create lists, dictionaries, and sets.</li>
                    <li>More Pythonic and often more efficient than traditional loops.</li>
                </ul>
                <pre><code class="language-python">
# List Comprehension
squares = [x**2 for x in range(10)]
print(f"Squares: {squares}")

even_numbers = [x for x in range(20) if x % 2 == 0]
print(f"Even numbers: {even_numbers}")

# Dictionary Comprehension
square_dict = {x: x**2 for x in range(5)}
print(f"Square dict: {square_dict}")

# Set Comprehension
unique_letters = {char.upper() for char in "hello world" if char.isalpha()}
print(f"Unique letters: {unique_letters}")
                </code></pre>

                <h3>3.6. Generators & Iterators</h3>
                <ul>
                    <li><strong>Iterators:</strong> Objects that can be iterated over (e.g., lists, tuples, strings). Implement <code>__iter__()</code> and <code>__next__()</code>.</li>
                    <li><strong>Generators:</strong> Functions that return an iterator. They use the <code>yield</code> keyword to produce a sequence of results one at a time, pausing execution and resuming on the next call. Memory efficient for large sequences.</li>
                </ul>
                <pre><code class="language-python">
# Generator function
def fibonacci_sequence(n):
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

print("Fibonacci sequence (first 10):")
for num in fibonacci_sequence(10):
    print(num)

# Generator expression (like list comprehension, but uses parentheses)
even_squares_generator = (x**2 for x in range(10) if x % 2 == 0)
print(f"Even squares (generator object): {even_squares_generator}")
print(f"First two even squares: {next(even_squares_generator)}, {next(even_squares_generator)}")
                </code></pre>

                <h3>3.7. Decorators</h3>
                <ul>
                    <li>Functions that modify the behavior of other functions or methods.</li>
                    <li>Syntactic sugar with the <code>@</code> symbol.</li>
                    <li>Commonly used for logging, authentication, caching, timing, etc.</li>
                </ul>
                <pre><code class="language-python">
# Simple decorator
def my_decorator(func):
    def wrapper():
        print("Something is happening before the function is called.")
        func()
        print("Something is happening after the function is called.")
    return wrapper

@my_decorator
def say_hello():
    print("Hello!")

say_hello()

# Decorator with arguments
def repeat(num_times):
    def decorator_repeat(func):
        def wrapper(*args, **kwargs):
            for _ in range(num_times):
                func(*args, **kwargs)
        return wrapper
    return decorator_repeat

@repeat(num_times=3)
def greet_person(name):
    print(f"Hello, {name}!")

greet_person("Alice")
                </code></pre>

                <h3>3.8. Context Managers (`with` statement)</h3>
                <ul>
                    <li>Ensures that resources (like files, network connections, locks) are properly acquired and released, even if errors occur.</li>
                    <li>Implemented using classes with <code>__enter__</code> and <code>__exit__</code> methods, or using the <code>@contextmanager</code> decorator from the <code>contextlib</code> module.</li>
                </ul>
                <pre><code class="language-python">
# Using a built-in context manager (file handling)
with open("example.txt", "w") as f:
    f.write("This line is written inside a context manager.")
print("File closed automatically.")

# Creating a custom context manager (using a class)
class MyContextManager:
    def __init__(self, name):
        self.name = name
    
    def __enter__(self):
        print(f"Entering context: {self.name}")
        return self # Value returned by 'as'
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        if exc_type:
            print(f"An exception of type {exc_type} occurred: {exc_val}")
        print(f"Exiting context: {self.name}")
        return False # False means propagate exception, True means suppress

with MyContextManager("Resource 1") as res:
    print(f"Inside context with {res.name}")
    # raise ValueError("Something went wrong!") # Uncomment to test exception handling
                </code></pre>
            </div>
        </div>

        <div class="concept-section">
            <div class="collapsible-header">
                <h2>4. Advanced Python Concepts</h2>
                <button class="toggle-button" data-target="advanced-content">Expand</button>
            </div>
            <div id="advanced-content" class="collapsible-content">
                <h3>4.1. Concurrency & Parallelism</h3>
                <ul>
                    <li><strong>Concurrency:</strong> Deals with multiple tasks seemingly at the same time (interleaving execution).</li>
                    <li><strong>Parallelism:</strong> Deals with multiple tasks actually running simultaneously (on multiple CPU cores).</li>
                    <li><strong>Threads (`threading` module):</strong> Best for I/O-bound tasks (e.g., network requests, file operations) due to Global Interpreter Lock (GIL).</li>
                    <li><strong>Processes (`multiprocessing` module):</strong> Best for CPU-bound tasks, as each process has its own Python interpreter and memory space, bypassing the GIL.</li>
                    <li><strong>Asynchronous I/O (`asyncio`):</strong> Event-driven, single-threaded concurrency using <code>async/await</code> syntax. Excellent for highly concurrent I/O-bound applications (e.g., web servers, network clients).</li>
                </ul>
                <pre><code class="language-python">
import threading
import multiprocessing
import asyncio
import time

# --- Threading Example (I/O Bound Simulation) ---
def download_file(filename):
    print(f"Downloading {filename}...")
    time.sleep(2) # Simulate network delay
    print(f"Finished downloading {filename}.")

print("--- Threading Demo ---")
threads = []
for i in range(3):
    t = threading.Thread(target=download_file, args=(f"file_{i}.txt",))
    threads.append(t)
    t.start()
for t in threads:
    t.join() # Wait for all threads to complete
print("All downloads finished (Threading).\n")

# --- Multiprocessing Example (CPU Bound Simulation) ---
def calculate_sum(start, end):
    s = 0
    for i in range(start, end):
        s += i * i
    print(f"Process {multiprocessing.current_process().name} finished sum.")
    return s

print("--- Multiprocessing Demo ---")
if __name__ == '__main__': # Required for multiprocessing on Windows/macOS
    results = []
    processes = []
    chunk_size = 1_000_000
    for i in range(3):
        start = i * chunk_size
        end = (i + 1) * chunk_size
        p = multiprocessing.Process(target=calculate_sum, args=(start, end), name=f"CalcProcess-{i}")
        processes.append(p)
        p.start()
    for p in processes:
        p.join() # Wait for all processes to complete
    print("All calculations finished (Multiprocessing).\n")

# --- AsyncIO Example (Concurrent I/O) ---
async def fetch_data(url):
    print(f"Fetching data from {url}...")
    await asyncio.sleep(1.5) # Simulate async network call
    print(f"Finished fetching from {url}.")
    return f"Data from {url}"

async def main_async():
    print("--- AsyncIO Demo ---")
    tasks = [
        fetch_data("http://api.example.com/data/1"),
        fetch_data("http://api.example.com/data/2"),
        fetch_data("http://api.example.com/data/3"),
    ]
    await asyncio.gather(*tasks) # Run tasks concurrently
    print("All async fetches finished.")

if __name__ == '__main__':
    # Run the asyncio event loop
    asyncio.run(main_async())
                </code></pre>

                <h3>4.2. Metaclasses & Descriptors</h3>
                <ul>
                    <li><strong>Metaclasses:</strong> Classes that create classes. They allow you to control the creation of classes themselves, enabling powerful customization of class behavior.</li>
                    <li><strong>Descriptors:</strong> Objects that implement the descriptor protocol (<code>__get__</code>, <code>__set__</code>, <code>__delete__</code> methods). They allow you to customize how attribute access works on objects. Used for properties, methods, `classmethod`, `staticmethod`.</li>
                </ul>
                <pre><code class="language-python">
# --- Metaclass Example ---
# A simple metaclass that adds a creation_date attribute to all classes it creates
class MyMeta(type):
    def __new__(mcs, name, bases, namespace):
        namespace['creation_date'] = time.ctime() # Add a class attribute
        print(f"Creating class: {name} with metaclass {mcs.__name__}")
        return super().__new__(mcs, name, bases, namespace)

class MyClass(metaclass=MyMeta):
    def __init__(self, value):
        self.value = value
    
    def show(self):
        print(f"Value: {self.value}, Created: {self.creation_date}")

class AnotherClass(metaclass=MyMeta):
    pass

print("\n--- Metaclass Demo ---")
obj1 = MyClass(10)
obj1.show()
print(f"AnotherClass creation date: {AnotherClass.creation_date}")


# --- Descriptor Example (Custom Property) ---
class PositiveNumber:
    def __set_name__(self, owner, name):
        self.public_name = name
        self.private_name = '_' + name

    def __get__(self, obj, objtype=None):
        if obj is None:
            return self
        return getattr(obj, self.private_name)

    def __set__(self, obj, value):
        if not isinstance(value, (int, float)) or value <= 0:
            raise ValueError(f"{self.public_name} must be a positive number.")
        setattr(obj, self.private_name, value)

class Product:
    price = PositiveNumber() # Using the descriptor

    def __init__(self, name, price):
        self.name = name
        self.price = price # This calls PositiveNumber.__set__

print("\n--- Descriptor Demo ---")
try:
    p1 = Product("Book", 25.99)
    print(f"{p1.name} price: {p1.price}")
    p1.price = 30.50
    print(f"{p1.name} new price: {p1.price}")
    # p1.price = -10 # This would raise ValueError
except ValueError as e:
    print(f"Error: {e}")
                </code></pre>

                <h3>4.3. Type Hinting (PEP 484)</h3>
                <ul>
                    <li>Adding type annotations to variables, function parameters, and return values.</li>
                    <li>Does not enforce types at runtime (Python is dynamically typed), but improves code readability, maintainability, and enables static analysis tools (e.g., MyPy).</li>
                </ul>
                <pre><code class="language-python">
from typing import List, Dict, Optional, Union

def greet_user(name: str) -> str:
    """Greets a user by name."""
    return f"Hello, {name}!"

def calculate_total(prices: List[float]) -> float:
    """Calculates the sum of a list of prices."""
    return sum(prices)

def get_user_data(user_id: int) -> Optional[Dict[str, Union[str, int]]]:
    """Fetches user data by ID, returns None if not found."""
    if user_id == 1:
        return {"name": "Alice", "age": 30}
    return None

print("\n--- Type Hinting Demo ---")
print(greet_user("Charlie"))
print(f"Total price: {calculate_total([10.5, 20.0, 5.25])}")

user1_data = get_user_data(1)
if user1_data:
    print(f"User 1 data: {user1_data['name']}, {user1_data['age']}")

user2_data = get_user_data(2)
if user2_data is None:
    print("User 2 not found.")
                </code></pre>

                <h3>4.4. Advanced Function Techniques</h3>
                <ul>
                    <li><strong>Lambda Functions:</strong> Small, anonymous functions.</li>
                    <li><strong>Closures:</strong> Functions returned by other functions, remembering the environment in which they were created.</li>
                    <li><strong>Partial Functions (`functools.partial`):</strong> Fixing a certain number of arguments of a function, producing a new function with fewer arguments.</li>
                </ul>
                <pre><code class="language-python">
from functools import partial

# --- Lambda Functions ---
add_two = lambda x: x + 2
print(f"Lambda add_two(5): {add_two(5)}")

# Used often with higher-order functions
numbers = [1, 2, 3, 4]
squared_numbers = list(map(lambda x: x**2, numbers))
print(f"Squared numbers (lambda with map): {squared_numbers}")

# --- Closures ---
def outer_function(msg):
    # msg is a free variable
    def inner_function():
        print(msg) # inner_function "closes over" msg
    return inner_function

closure_greet = outer_function("Hello from closure!")
closure_greet()

# --- Partial Functions ---
def multiply(a, b):
    return a * b

double = partial(multiply, 2) # Fix 'a' to 2
triple = partial(multiply, 3) # Fix 'a' to 3

print(f"Double 5: {double(5)}")
print(f"Triple 5: {triple(5)}")

# Partial with keyword arguments
power_of_3 = partial(pow, exp=3) # Fix 'exp' to 3
print(f"5 to the power of 3: {power_of_3(5)}")
                </code></pre>

                <h3>4.5. Memory Management & Garbage Collection</h3>
                <ul>
                    <li>Python uses reference counting for memory management.</li>
                    <li>When an object's reference count drops to zero, its memory is deallocated.</li>
                    <li>A cycle detector handles circular references (objects referencing each other).</li>
                    <li>Understanding how Python manages memory helps in writing efficient code and debugging memory leaks.</li>
                </ul>
                <pre><code class="language-python">
import sys
import gc

# --- Reference Counting Demo ---
a = [1, 2, 3]
b = a
c = b

print(f"References to [1, 2, 3]: {sys.getrefcount(a) - 1}") # -1 because getrefcount itself adds a ref

del b
print(f"References after del b: {sys.getrefcount(a) - 1}")

del c
print(f"References after del c: {sys.getrefcount(a) - 1}")

# When 'a' is also deleted or goes out of scope, ref count becomes 0 and memory is reclaimed.

# --- Garbage Collection (Cycle Detector) ---
# Create a circular reference
class Node:
    def __init__(self, value):
        self.value = value
        self.next = None

node1 = Node(1)
node2 = Node(2)
node1.next = node2
node2.next = node1 # Circular reference

print("\n--- Garbage Collection Demo (Circular Reference) ---")
print(f"Before GC: Node1 ref count: {sys.getrefcount(node1) - 1}")
print(f"Before GC: Node2 ref count: {sys.getrefcount(node2) - 1}")

# Delete references from outside
del node1
del node2

# Even though external references are gone, their ref counts are still 1 due to the cycle.
# The garbage collector (gc) will eventually clean this up.
print("Running garbage collector...")
gc.collect() # Manually trigger GC

# After gc.collect(), the objects are reclaimed.
# sys.getrefcount will now likely show 0 (or 1 if it's the only ref within the function call)
# This part is hard to demonstrate perfectly with sys.getrefcount alone
# as the object might already be gone.
print("GC executed. Memory for circular refs reclaimed.")
                </code></pre>

                <h3>4.6. Introspection & Reflection</h3>
                <ul>
                    <li>The ability of a program to examine its own structure and behavior at runtime.</li>
                    <li>Useful for debugging, creating generic tools, and dynamic code generation.</li>
                    <li>Functions like `dir()`, `type()`, `id()`, `getattr()`, `setattr()`, `hasattr()`, `isinstance()`, `issubclass()`, `inspect` module.</li>
                </ul>
                <pre><code class="language-python">
import inspect

class MyClass:
    def __init__(self, x):
        self.x = x
    
    def my_method(self, y):
        return self.x + y

def my_function(a, b=10):
    """A sample function."""
    return a * b

print("--- Introspection & Reflection Demo ---")

# dir() - list attributes
obj = MyClass(5)
print(f"Attributes of obj: {dir(obj)[:5]}...") # Show first few

# type() - get type
print(f"Type of obj: {type(obj)}")
print(f"Type of my_function: {type(my_function)}")

# getattr(), hasattr(), setattr()
print(f"Has 'x' attribute? {hasattr(obj, 'x')}")
print(f"Value of 'x': {getattr(obj, 'x')}")
setattr(obj, 'x', 10)
print(f"New value of 'x': {obj.x}")

# isinstance(), issubclass()
print(f"obj is instance of MyClass: {isinstance(obj, MyClass)}")
print(f"MyClass is subclass of object: {issubclass(MyClass, object)}")

# inspect module - detailed info
print("\n--- Inspecting my_function ---")
print(f"Function name: {my_function.__name__}")
print(f"Function docstring: {my_function.__doc__}")
print(f"Function arguments: {inspect.signature(my_function)}")
                </code></pre>
            </div>
        </div>

        <div class="concept-section">
            <div class="collapsible-header">
                <h2>5. Python Ecosystem & Best Practices</h2>
                <button class="toggle-button" data-target="ecosystem-best-practices-content">Expand</button>
            </div>
            <div id="ecosystem-best-practices-content" class="collapsible-content">
                <h3>5.1. Virtual Environments</h3>
                <p>Isolate project dependencies to avoid conflicts. Use <code>venv</code> (built-in) or <code>conda</code>.</p>
                <pre><code class="language-bash">
# Create a virtual environment
python3 -m venv myenv

# Activate the virtual environment
# On Linux/macOS:
source myenv/bin/activate
# On Windows (Cmd):
myenv\Scripts\activate.bat
# On Windows (PowerShell):
myenv\Scripts\Activate.ps1

# Deactivate
deactivate
                </code></pre>

                <h3>5.2. Package Management (`pip`)</h3>
                <p>Install, upgrade, and manage Python packages.</p>
                <pre><code class="language-bash">
# Install a package
pip install requests

# Install specific version
pip install requests==2.28.1

# Install from requirements.txt
pip install -r requirements.txt

# Generate requirements.txt
pip freeze > requirements.txt

# Uninstall a package
pip uninstall requests
                </code></pre>

                <h3>5.3. Testing</h3>
                <p>Write unit tests, integration tests, and end-to-end tests to ensure code correctness and prevent regressions. Use <code>unittest</code> (built-in) or <code>pytest</code> (popular third-party).</p>
                <pre><code class="language-python">
# my_math.py
def add(a, b):
    return a + b

def subtract(a, b):
    return a - b

# test_my_math.py (using pytest)
# pip install pytest
def test_add():
    assert add(1, 2) == 3
    assert add(-1, 1) == 0
    assert add(0, 0) == 0

def test_subtract():
    assert subtract(5, 2) == 3
    assert subtract(2, 5) == -3
    assert subtract(10, 10) == 0

# To run tests:
# pytest
                </code></pre>

                <h3>5.4. Logging</h3>
                <p>Use the built-in <code>logging</code> module for structured and configurable logging, crucial for debugging and monitoring applications in production.</p>
                <pre><code class="language-python">
import logging

# Basic configuration
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')

logger = logging.getLogger(__name__)

def process_data(data):
    logger.info(f"Processing data: {data}")
    try:
        result = 10 / data
        logger.debug(f"Intermediate result: {result}")
        return result
    except ZeroDivisionError:
        logger.error("Attempted to divide by zero!")
        raise
    except Exception as e:
        logger.exception(f"An unexpected error occurred: {e}") # Logs exception info
        raise

if __name__ == "__main__":
    process_data(5)
    try:
        process_data(0)
    except Exception:
        pass
                </code></pre>

                <h3>5.5. Code Style (PEP 8) & Linters</h3>
                <ul>
                    <li><strong>PEP 8:</strong> Python's official style guide. Follow it for consistent and readable code.</li>
                    <li><strong>Linters (e.g., Flake8, Black):</strong> Tools that analyze your code for style violations, potential errors, and bad practices. Black is a popular opinionated code formatter.</li>
                </ul>
                <pre><code class="language-bash">
# Install Flake8 and Black
pip install flake8 black

# Check code style with Flake8
flake8 your_module.py

# Auto-format code with Black
black your_module.py
                </code></pre>

                <h3>5.6. Debugging</h3>
                <p>Use the built-in debugger <code>pdb</code> or IDE-integrated debuggers for step-by-step execution, variable inspection, and breakpoint management.</p>
                <pre><code class="language-python">
# my_debug_script.py
import pdb

def calculate_average(numbers):
    total = sum(numbers)
    count = len(numbers)
    # pdb.set_trace() # Uncomment to set a breakpoint here
    average = total / count
    return average

data = [10, 20, 30, 40]
avg = calculate_average(data)
print(f"Average: {avg}")

# To run with pdb from command line:
# python -m pdb my_debug_script.py
# (Use 'n' for next line, 's' for step into, 'c' for continue, 'p <variable>' to print variable)
                </code></pre>

                <h3>5.7. Version Control (Git)</h3>
                <p>Essential for collaborative development, tracking changes, and managing different versions of your codebase.</p>
                <pre><code class="language-bash">
# Initialize a new Git repository
git init

# Add files to staging area
git add .

# Commit changes
git commit -m "Initial commit"

# Clone a remote repository
git clone &lt;repository_url&gt;

# Push changes to remote
git push origin main

# Pull changes from remote
git pull origin main

# Create and switch to a new branch
git checkout -b new-feature

# Merge a branch
git merge new-feature

# View commit history
git log
                </code></pre>
            </div>
        </div>

        <div class="concept-section">
            <div class="collapsible-header">
                <h2>6. Next Steps: Specialization Paths</h2>
                <button class="toggle-button" data-target="specialization-content">Expand</button>
            </div>
            <div id="specialization-content" class="collapsible-content">
                <p>Once you have a solid foundation, Python offers numerous specialization paths:</p>
                <ul>
                    <li><strong>Web Development:</strong>
                        <ul>
                            <li><strong>Backend:</strong> Django (full-stack), Flask (microframework), FastAPI (modern API framework).</li>
                            <li><strong>Frontend (with Python):</strong> PyScript (running Python in browser), Dash (analytical web apps).</li>
                        </ul>
                    </li>
                    <li><strong>Data Science & Analysis:</strong>
                        <ul>
                            <li><strong>Libraries:</strong> NumPy (numerical computing), Pandas (data manipulation), Matplotlib/Seaborn (data visualization), SciPy (scientific computing).</li>
                            <li><strong>Tools:</strong> Jupyter Notebooks, Google Colab.</li>
                        </ul>
                    </li>
                    <li><strong>Machine Learning & AI:</strong>
                        <ul>
                            <li><strong>Libraries:</strong> Scikit-learn (traditional ML), TensorFlow/Keras (deep learning), PyTorch (deep learning).</li>
                            <li><strong>Concepts:</strong> Supervised/Unsupervised Learning, Neural Networks, NLP, Computer Vision.</li>
                        </ul>
                    </li>
                    <li><strong>Automation & Scripting:</strong>
                        <ul>
                            <li><strong>OS Interaction:</strong> <code>os</code>, <code>subprocess</code> modules.</li>
                            <li><strong>Web Scraping:</strong> Beautiful Soup, Scrapy.</li>
                            <li><strong>GUI Automation:</strong> Selenium, PyAutoGUI.</li>
                        </ul>
                    </li>
                    <li><strong>DevOps & Cloud:</strong>
                        <ul>
                            <li><strong>Tools:</strong> Ansible (automation), Boto3 (AWS SDK).</li>
                            <li><strong>Concepts:</strong> Infrastructure as Code, CI/CD.</li>
                        </ul>
                    </li>
                    <li><strong>Game Development:</strong> Pygame.</li>
                    <li><strong>Desktop Applications:</strong> PyQt, Tkinter, Kivy.</li>
                </ul>
                <p class="note">Choose a path that aligns with your interests and career goals. The Python community is vast, and you'll find extensive resources for any chosen specialization.</p>
            </div>
        </div>

        <div class="warning">
            <p>Learning to code is a continuous journey. Practice regularly, build projects, contribute to open source, and never stop exploring new concepts and libraries. Happy coding!</p>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                const targetId = button.dataset.target;
                const contentDiv = document.getElementById(targetId);

                if (contentDiv) {
                    // Initialize state: all collapsed by default
                    contentDiv.style.display = 'none';
                    button.textContent = 'Expand';
                    button.classList.add('collapsed');

                    button.addEventListener('click', function() {
                        if (contentDiv.style.display === 'block') {
                            contentDiv.style.display = 'none';
                            button.textContent = 'Expand';
                            button.classList.add('collapsed');
                        } else {
                            contentDiv.style.display = 'block';
                            button.textContent = 'Collapse';
                            button.classList.remove('collapsed');
                        }
                    });
                }
            });
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <script>Prism.plugins.lineNumbers();</script>
    <script>Prism.highlightAll();</script>
</body>
</html>
